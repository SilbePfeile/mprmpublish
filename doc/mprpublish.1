'\" t
.\"     Title: mprpublish
.\"    Author: [see the "AUTHORS" section]
.\" Generator: DocBook XSL Stylesheets v1.79.1 <http://docbook.sf.net/>
.\"      Date: 10/05/2021
.\"    Manual: \ \&
.\"    Source: \ \&
.\"  Language: English
.\"
.TH "MPRPUBLISH" "1" "10/05/2021" "\ \&" "\ \&"
.\" -----------------------------------------------------------------
.\" * Define some portability stuff
.\" -----------------------------------------------------------------
.\" ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
.\" http://bugs.debian.org/507673
.\" http://lists.gnu.org/archive/html/groff/2009-02/msg00013.html
.\" ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
.ie \n(.g .ds Aq \(aq
.el       .ds Aq '
.\" -----------------------------------------------------------------
.\" * set default formatting
.\" -----------------------------------------------------------------
.\" disable hyphenation
.nh
.\" disable justification (adjust text to left margin only)
.ad l
.\" -----------------------------------------------------------------
.\" * MAIN CONTENT STARTS HERE *
.\" -----------------------------------------------------------------
.SH "NAME"
mprpublish \- PKGBUILD management framework for the Makedeb Package Repository
.SH "SYNOPSIS"
.sp
\fImprpublish\fR [options] PACKAGE
.sp
\fImprpublish\fR log [<options>] PACKAGE
.sp
\fImprpublish\fR setup
.SH "DESCRIPTION"
.sp
Mprpublish is an utility which helps maintainers of mpr packages to submit updates\&.
.SH "HOW IT WORKS"
.sp
Commit PKGBUILDs in named subdirectories\&. Export them to the MPR with the mprpublish command, using the subtree push stratagem\&. This preserves an independent history for third\-party hosting, pull requests\&... ;)
.SH "COMMANDS"
.PP
\fBsetup\fR
.RS 4
Initialize a new repository with git hooks\&.
.RE
.PP
\fBlog\fR <PACKAGE>
.RS 4
View the git log of a package subtree\&.
.RE
.SH "OPTIONS"
.PP
\fB\-p\fR <PACKAGE>
.RS 4
Instead of publishing, pull changes from the MPR\&. Can import packages into a new subtree\&.
.RE
.PP
\fB\-s\fR, \fB\-\-speedup\fR <PACKAGE>
.RS 4
Speedup future publishing by recording the subtree history during a push\&. This creates a merge commit and a second copy of all commits in the subtree\&. For more details, see the "\-\-rejoin" option in
\fBgit-subtree\fR(1)\&.
.RE
.PP
\fB\-h\fR, \fB\-\-help\fR
.RS 4
Prints a usage page\&.
.RE
.SH "HOOKS"
.PP
\fBpre\-commit\fR
.RS 4
Warn about whitespace errors, fail if checksums don\(cqt match, and auto\-generate \&.SRCINFO for all changed PKGBUILDs\&.
.RE
.PP
\fBprepare\-commit\-msg\fR
.RS 4
Prefill the commit message with a list of added/updated/deleted packages + versions (if any)\&.
.RE
.SH "EXAMPLES"
.PP
mprpublish setup
.RS 4
Initialize a new repository with git hooks\&. Refer to Hooks section for more info\&.
.RE
.PP
mprpublish \-p ansible\-core\-git
.RS 4
Clone existing package from mpr and add its url as a git subtree to the currently existing git repository\&.
.RE
.PP
mprpublish ansible\-core\-git
.RS 4
Push an existing subtree to MPR\&.
.RE
.PP
mprpublish log
.RS 4
View the git log of a package subtree\&.
.RE
.SH "AUTHORS"
.sp
Eli Schwartz <eschwartz@archlinux\&.org>
.sp
canony <canony@protonmail\&.ch>
